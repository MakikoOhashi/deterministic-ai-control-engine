"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{6148:function(e,s,a){a.d(s,{Z:function(){return d}});var i=a(7437);function l(e){return"within"===e?"Within target":"minor"===e?"Minor deviation":"Out of range"}function d(e){var s;let{result:a,target:d,targetBand:c,axisTolerance:r,weights:n,effectiveTolerance:t,stability:x,similarity:m,similarityBreakdown:v,choiceIntent:o,choiceStructure:h,runMeta:u,error:j}=e,y=(null==a?void 0:a.components)||{L:0,S:0,A:0,R:0},N=d||{L:0,S:0,A:0,R:0},k=n||{wL:.2,wS:.2,wA:.3,wR:.3},S={L:y.L-N.L,S:y.S-N.S,A:y.A-N.A,R:y.R-N.R},w=null!==(s=null==a?void 0:a.D)&&void 0!==s?s:0,p=a?N.L*k.wL+N.S*k.wS+N.A*k.wA+N.R*k.wR:0,g=a&&d?function(e,s,a){let i=e.L-s.L,l=e.S-s.S,d=e.A-s.A,c=e.R-s.R;return Math.sqrt(a.wL*i*i+a.wS*l*l+a.wA*d*d+a.wR*c*c)}(y,N,k):0,b=a?g<=t?"within":g<=3*t?"minor":"out":"within";return(0,i.jsxs)("details",{className:"quality-fold",open:!0,children:[(0,i.jsx)("summary",{children:"Difficulty Stability Console"}),(0,i.jsxs)("div",{className:"audit-block",children:[(0,i.jsx)("div",{className:"compliance-badge ".concat(a?b:""),children:a?l(b):"--"}),(0,i.jsxs)("div",{className:"summary compact",children:[(0,i.jsxs)("div",{className:"summary-card",children:[(0,i.jsx)("div",{className:"label",children:"Target D"}),(0,i.jsx)("div",{className:"value",children:a?p.toFixed(3):"--"})]}),(0,i.jsxs)("div",{className:"summary-card",children:[(0,i.jsx)("div",{className:"label",children:"Current D"}),(0,i.jsx)("div",{className:"value",children:a?w.toFixed(3):"--"})]}),(0,i.jsxs)("div",{className:"summary-card",children:[(0,i.jsx)("div",{className:"label",children:"Distance"}),(0,i.jsx)("div",{className:"value",children:a?g.toFixed(3):"--"})]}),(0,i.jsxs)("div",{className:"summary-card",children:[(0,i.jsx)("div",{className:"label",children:"Stability"}),(0,i.jsx)("div",{className:"value",children:x||"--"})]}),(0,i.jsxs)("div",{className:"summary-card",children:[(0,i.jsx)("div",{className:"label",children:"Similarity"}),(0,i.jsx)("div",{className:"value",children:"number"==typeof m?m.toFixed(3):"--"})]})]}),(null==u?void 0:u.stage)||(null==u?void 0:u.runId)?(0,i.jsxs)("div",{className:"summary-card",style:{marginTop:8},children:[(0,i.jsx)("div",{className:"label",children:"Status Trace"}),(0,i.jsxs)("div",{className:"meta",children:["Stage: ",u.stage||"--"," ",u.runId?"| Run: ".concat(u.runId):""," ",u.sourceId?"| Source: ".concat(u.sourceId):""]})]}):null,c?(0,i.jsxs)("div",{className:"table compact",style:{marginTop:12},children:[(0,i.jsxs)("div",{className:"row header",children:[(0,i.jsx)("div",{children:"Target Range"}),(0,i.jsx)("div",{children:"Min"}),(0,i.jsx)("div",{children:"Max"}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]}),[{key:"L",min:c.min.L,max:c.max.L},{key:"S",min:c.min.S,max:c.max.S},{key:"A",min:c.min.A,max:c.max.A},{key:"R",min:c.min.R,max:c.max.R}].map(e=>(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"axis",children:e.key}),(0,i.jsx)("div",{children:e.min.toFixed(3)}),(0,i.jsx)("div",{children:e.max.toFixed(3)}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]},"band-".concat(e.key)))]}):null,v?(0,i.jsxs)("div",{className:"table compact",children:[(0,i.jsxs)("div",{className:"row header",children:[(0,i.jsx)("div",{children:"Similarity"}),(0,i.jsx)("div",{children:"Value"}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]}),[{key:"Passage",value:v.passage},{key:"Question",value:v.question},{key:"Correct",value:v.correctChoice},{key:"Distractors",value:v.distractors},{key:"Choices",value:v.choices}].map(e=>(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"axis",children:e.key}),(0,i.jsx)("div",{children:"number"==typeof e.value?e.value.toFixed(3):"--"}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]},e.key))]}):null,o?(0,i.jsxs)("div",{className:"summary-card",style:{marginTop:12},children:[(0,i.jsx)("div",{className:"label",children:"Choice Intent"}),(0,i.jsx)("div",{className:"value",style:{fontSize:14},children:o.concept}),(0,i.jsx)("div",{className:"meta",children:o.patterns.join(" • ")})]}):null,h?(0,i.jsxs)("div",{className:"table compact",style:{marginTop:12},children:[(0,i.jsxs)("div",{className:"row header",children:[(0,i.jsx)("div",{children:"Choice Structure"}),(0,i.jsx)("div",{children:"Value"}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]}),[{key:"Correct vs Distractors",value:h.correctMeanSim},{key:"Distractor Mean",value:h.distractorMeanSim},{key:"Distractor Variance",value:h.distractorVariance},{key:"Isolation Index",value:h.isolationIndex}].map(e=>(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"axis",children:e.key}),(0,i.jsx)("div",{children:e.value.toFixed(3)}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]},e.key))]}):null,(0,i.jsxs)("div",{className:"table compact",children:[(0,i.jsxs)("div",{className:"row header",children:[(0,i.jsx)("div",{children:"Axis"}),(0,i.jsx)("div",{children:"Target"}),(0,i.jsx)("div",{children:"Current"}),(0,i.jsx)("div",{children:"Δ"}),(0,i.jsx)("div",{children:"Status"})]}),[{key:"L",target:N.L,current:y.L,delta:S.L},{key:"S",target:N.S,current:y.S,delta:S.S},{key:"A",target:N.A,current:y.A,delta:S.A},{key:"R",target:N.R,current:y.R,delta:S.R}].map(e=>{var s;let n=function(e,s){let a=Math.abs(e);return a<=s?"within":a<=2*s?"minor":"out"}(e.delta,t);return(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"axis",children:e.key}),(0,i.jsx)("div",{children:a&&d?c?"".concat(c.min[e.key].toFixed(3),"–").concat(c.max[e.key].toFixed(3)):r?"".concat((e.target-r[e.key]).toFixed(3),"–").concat((e.target+r[e.key]).toFixed(3)):e.target.toFixed(3):"--"}),(0,i.jsx)("div",{children:a?e.current.toFixed(3):"--"}),(0,i.jsx)("div",{children:a&&d?(s=e.delta,"".concat(s>=0?"+":"").concat(s.toFixed(3))):"--"}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"badge ".concat(a?n:""),children:a?l(n):"--"})})]},e.key)})]}),j?(0,i.jsx)("div",{className:"error",children:j}):null]})]})}}}]);